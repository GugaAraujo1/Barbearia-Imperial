<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Agendamento</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="../style.css">
</head>

<body>
    <header class="cabecalho">
        <nav>
            <ul class="ListNav">
                <li><a href="../#sobreNos">SOBRE NÓS</a></li>
                <li><a href="../#servicos">SERVIÇOS</a></li>
                <img class="Logo" src="../assets/Logo.jpeg">
                <li><a href="">AGENDAMENTO</a></li>
                <li><a href="">LOGIN??</a></li>
            </ul>
        </nav>
    </header>

    <div class="principal">
        <div class="Titulo">
            <h1>FAÇA SEU AGENDAMENTO!</h1>
        </div>

        <div class="horarios">
            <div class="horario">
                <h2 class="dia">DOM</h2>
                <p>FECHADO</p>
            </div>
            <div class="horario">
                <h2 class="dia">SEG</h2>
                <p>8H ÀS 19H</p>
            </div>
            <div class="horario">
                <h2 class="dia">TER</h2>
                <p>8H ÀS 19H</p>
            </div>
            <div class="horario">
                <h2 class="dia">QUA</h2>
                <p>8H ÀS 19H</p>
            </div>
            <div class="horario">
                <h2 class="dia">QUI</h2>
                <p>8H ÀS 19H</p>
            </div>
            <div class="horario">
                <h2 class="dia">SEX</h2>
                <p>8H ÀS 19H</p>
            </div>
            <div class="horario">
                <h2 class="dia">SAB</h2>
                <p>8H ÀS 19H</p>
            </div>
        </div>
        <div class="wrapper">
            <form action="<?php echo htmlspecialchars($_SERVER[" PHP_SELF"]); ?>" method="post">
                <div class="form-group">
                    <p class="tituloForm">DIGITE SEU NOME</p>
                    <input type="text" name="nome"
                        class="form-control <?php echo (!empty($nome_err)) ? 'is-invalid' : ''; ?>"
                        value="<?php echo $nome; ?>">
                    <span class="invalid-feedback">
                        <?php echo $nome_err; ?>
                    </span>
                </div>
                <div class="form-group">
                    <p class="tituloForm">DIGITE SEU SOBRENOME</p>
                    <input type="text" name="sobrenome"
                        class="form-control <?php echo (!empty($sobrenome_err)) ? 'is-invalid' : ''; ?>"
                        value="<?php echo $sobrenome; ?>">
                    <span class="invalid-feedback">
                        <?php echo $sobrenome_err; ?>
                    </span>
                </div>
                <div class="form-group">
                    <p class="tituloForm">SELECIONE O SERVIÇO</p>
                    <select name="servico"
                        class="form-control <?php echo (!empty($servico_err)) ? 'is-invalid' : ''; ?>">
                        <option value="Corte">Corte</option>
                        <option value="Barba">Barba</option>
                        <option value="Corte e Barba">Corte e Barba</option>
                    </select>
                    <span class="invalid-feedback">
                        <?php echo $servico_err; ?>
                    </span>
                </div>
                <div class="data">
                    <div class="form-group">
                        <p class="tituloForm">DATA</p>
                        <input type="text" name="data_agendamento" id="datepicker"
                            class="form-control <?php echo (!empty($data_agendamento_err)) ? 'is-invalid' : ''; ?>"
                            value="<?php echo $data_agendamento; ?>">
                        <span class="invalid-feedback">
                            <?php echo $data_agendamento_err; ?>
                        </span>
                    </div>
                    <div class="form-group">
                        <p class="tituloForm">HORÁRIO</p>
                        <select name="horario"
                            class="form-control <?php echo (!empty($horario_err)) ? 'is-invalid' : ''; ?>">
                            <?php
                            $hora_inicio = strtotime('08:00');
                            $hora_fim = strtotime('19:00');
                
                            while ($hora_inicio <= $hora_fim) {
                                echo '<option value="' . date('H:i', $hora_inicio) . '">' . date('H:i', $hora_inicio) . '</option>';
                                $hora_inicio = strtotime('+30 minutes', $hora_inicio);
                            }
                            ?>
                        </select>
                        <span class="invalid-feedback">
                            <?php echo $horario_err; ?>
                        </span>
                    </div>
                </div>
                <div class="form-group">
                    <input type="submit" class="btn btn-primary btn-confirmar" value="CONFIRMAR AGENDAMENTO">

                </div>
            </form>
        </div>
    </div>
    <div class="rodape">
        <img class="Logo" src="../assets/Logo.jpeg">
        <div class="linha">
            <img class="icon" src="../assets/instagram.png" alt="">
            <p>@imperial.barbearia_</p>
        </div>
        <div class="linha">
            <img class="icon" src="../assets/whatsapp.png" alt="">
            <p>(11) 97283-1827</p>
        </div>
        <div class="linha">
            <img class="icon" src="../assets/mail.png" alt="">
            <p>imperial.barbearia@gmail.com</p>
        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script>
        // Inicializar o seletor personalizado
        $("select[name='servico']").select2();

        // Obtém a data atual
        var currentDate = new Date();

        // Configurar o flatpickr
        flatpickr("#datepicker", {
            dateFormat: "Y-m-d",
            minDate: currentDate, // Restringir a data mínima à data atual
            disable: [
                function (date) {
                    // Desabilite os domingos (0 é domingo, 1 é segunda-feira, etc.)
                    return (date.getDay() === 0);
                }
            ],
        });
    </script>

</body>

</html>